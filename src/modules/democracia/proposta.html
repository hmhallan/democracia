<div class="row">
	
	<div class="col-12">
		<form name="form" ng-submit="enviarProposta()" novalidate>
			<div class="card border-info mb-3">
				
				<div class="card-header">Nova Proposta</div>
				<div class="card-body">
					
					<div classs="form-group row">
						<div class="col-12">
							<label class="control-label">Título</label>
							<input class="form-control" type="text" name="titulo" ng-model="proposta.titulo"
									ng-class="{ 'is-invalid': form.titulo.$invalid && (form.titulo.$touched || form.$submitted) }" 
									required>
						</div>		
					</div>

					<div classs="form-group row">
						<div class="col-3 mt10">
							<label class="control-label">Permanecer Até</label>
							<div class="input-group mb-3">
								<input class="form-control" type="text" name="visivelAte"
										uib-datepicker-popup="dd/MM/yyyy" is-open="dateOptions.opened" 
										ng-focus="dateOptions.opened=true" datepicker-options="dateOptions" ng-model="proposta.visivelAte"
										ng-class="{ 'is-invalid': form.visivelAte.$invalid && (form.visivelAte.$touched || form.$submitted) }" 
										required>
								<div class="input-group-append">
									<span class="input-group-text" ng-click="togglePicker()">
										<i class="far fa-calendar-alt"></i>
									</span>
								</div>
							</div>
						</div>
					</div>
					<div classs="form-group row">
						<div class="col-3">
							<label class="control-label">Número de votos</label>
							<input class="form-control type="number" name="totalVotos" ng-model="proposta.totalVotos"
									ng-class="{ 'is-invalid': form.totalVotos.$invalid && (form.totalVotos.$touched || form.$submitted) }" 
									required>
						</div>		
					</div>
					<div classs="form-group row" ng-class"{ 'has-error': form.descricao.$invalid }>
						<div class="col-12 mt10">
							<label class="control-label">Descrição da Proposta</label>
							<textarea class="form-control" name="descricao" ng-model="proposta.descricao" 
										ng-class="{ 'is-invalid': form.descricao.$invalid && (form.descricao.$touched || form.$submitted) }" 
										required></textarea>
						</div>
					</div>
					
				</div>
				<div class="card-footer">
					<p>Total de propostas cadastradas: <strong ng-bind="totalDePropostas"></strong></p>
					<button type="submit" class="btn btn-success float-right">Enviar</button>
				</div>
			</div>
		</form>
	</div>
</div>

<!--
<pre>{{proposta | json}}</pre>
-->